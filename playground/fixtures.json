{
  "generatedAt": "2026-02-23T17:11:45.619Z",
  "by": "scripts/build-playground.js",
  "fixtureCount": 3,
  "fixtures": [
    {
      "name": "00_hello-world",
      "template": "// Hi there! This is an example of using PDL:\n\nHello [value:greetings.{Language} title=true], it's [value:now date=\"%Y\"]!\n\n// See the base data by pressing \"Data\".\n// Select a language in the \"Variables\".\n\n// For more examples, see the Tutorial.\n// For all combinations, see Cheatsheet.\n",
      "data": {
        "now": "2026-02-22T12:34:56Z",
        "greetings": {
          "de": "welt",
          "en": "world",
          "es": "mundo",
          "fr": "monde"
        }
      },
      "variables": {
        "Language": "en"
      },
      "expected": "\nHello `World`, it's `2026`!\n"
    },
    {
      "name": "01_tutorial",
      "template": "# PDL: Tutorial\n\n_Prompt Data Language fuses a template with data to produce natural language._\n\nIn this template, we will prepare a small product launch briefing together using structured data.\nThe JSON data provided contains all products, locations, and release information.\nIt is structured with named fields, nested objects, and lists.\n\nThe sections below are grouped by capability.\nLines that contain PDL (like `[directive:...]`) end with `// \"expected output\"` so you can verify the result as you read.\n\n\n// =================================================\n## Global Variables\n// =================================================\n\n_Before we dive in, let's understand how dynamic PDL is._\n\nAny automation can inject global variables:\n* The product chosen for the launch (in `.variable.json`) is {Product}. // \"Screen\"\n\nAny word in curly braces is a candidate for a global variable. \nIf it exists in `.variable.json`, it will be replaced before PDL is processed.\n\n_This template will make extensive use of this, so watch out for the curly braces!_\n\n\n// =================================================\n## Directive: Value\n// =================================================\n\n_We begin by retrieving the facts needed for the briefing._\n\n// -------------------------------------------------\n### Value retrieval\n// -------------------------------------------------\n\n_Read a field directly from the data._\n\nLet's get a value from the data by providing its key:\n* The product belongs to the [value:family] family. // \"Digital\"\n\nWe can also provide a path:\n* If {Product} doesn't work, we will advertise the [value:release.hero.fallback]. // \"Widget\"\n\n// -------------------------------------------------\n### Filtering values\n// -------------------------------------------------\n\n_Select the first item that matches a condition._\n\nFiltered by number:\n* The first paid product is [value:products[price>0].name]. // \"Widget\"\n* The product that costs 30€ is [value:products[price=30].name]. // \"Screen\"\n\nFiltered by name:\n* The {Product} costs [value:products[name={Product}].price]€. // \"30\"\n* Customers like the Widget for [value:products[name=Widget].price]€. // \"10\"\n\nCombine conditions:\n* AND: [value:products[name=Widget&price=10].name] (name=Widget&price=10) // \"Widget\"\n* OR:  [value:products[name=Missing|name=Demo].name] (name=Missing|name=Demo) // \"Demo\"\n\nCase-insensitive matching:\n* A WiDgEt is a [value:products[name=\"WiDgEt\"].name ci=true], period. // \"Widget\"\n* And a Widget stays a [value:products[name=\"Widget\"].name ci=true]. // \"Widget\"\n* And so does wIdGeT: [value:products[name=\"wIdGeT\" ci=true].name]. // \"Widget\"\n\n// -------------------------------------------------\n### Nested values\n// -------------------------------------------------\n\n_Resolve one value inside another when data depends on data._\n\nGlobal variables can live inside directives:\n* We recommend the {Product} for the price of [value:products[name={Product}].price]€. // \"Screen\"; \"30\"\n\nAnd so can PDL values:\n* But if {Product} is broken, we recommend the [value:release.hero.fallback] for [value:products[name=[value:release.hero.fallback]].price]€. // \"Widget\"; \"10\"\n\n// -------------------------------------------------\n### Unresolved values\n// -------------------------------------------------\n\n_When a path cannot be resolved, behavior is explicit._\n\nMissing data keeps the directive visible (so it’s easy to spot):\n* The missing value is [value:missing.key]. // \"[value:missing.key]\"\n\nWe can provide an alternative path:\n* The fallback family is [value:missing.family fallback=family]. // \"Digital\"\n\nThe fallback can be a nested path:\n* The fallback product is [value:missing.key fallback=\"products[name={Product}].name\"]. // \"Screen\"\n\nIf nothing resolves, we will use a failure value:\n* [value:missing.key fallback=another.missing.key failure=\"We are missing data here.\"] // \"We are missing data here.\"\n\n// -------------------------------------------------\n### Existence checks\n// -------------------------------------------------\n\n_Sometimes we only need to know whether the original path resolves._\n\nExisting keys will succeed:\n* The family [value:family success=\"exists\" failure=\"is missing\"]. // \"exists\"\n\nBut missing keys will fail:\n* This key [value:missing.key success=\"exists\" failure=\"is missing\"]. // \"is missing\"\n\nThe fallback path might help:\n* The fallback [value:missing.key fallback=family success=\"exists\" failure=\"is missing\"]. // \"exists\"\n\n// -------------------------------------------------\n### Selector variants\n// -------------------------------------------------\n\n_Selectors support different comparisons and matching styles._\n\nPDL supports most common operators:\n* The first paid product is [value:products[price!=0].name]. // \"Widget\"\n* The discount product is [value:products[price=10].name]. // \"Widget\"\n* The product starting with \"Wid\" is [value:products[name^=\"Wid\"].name]. // \"Widget\"\n* The product ending with \"get\" is [value:products[name$=\"get\"].name]. // \"Widget\"\n\nSometimes the path becomes more complex:\n* We will spend [value:release.campaign.metrics[\"Ad Spend €\"]]€ on ads... // \"120000\"\n* ...because the product is [value:release.campaign.taglineWrap.tagline]. // \"Future-ready\"\n\n// -------------------------------------------------\n### Replacing values\n// -------------------------------------------------\n\n_Before publishing, we might want to adjust the wording._\n\nWe can replace certain values:\n* We will replace \"Demo\" with [value:products[name=Demo].name replace=\"Demo:Presentation\"]. // \"Presentation\"\n\nOr just parts of them:\n* For the younger audience, we will call it [value:products[name=Demo].name replace=\"emo:ee\"]. // \"Dee\"\n\nWe can keep this flexible too:\n* You will like our [value:products[name={Product}].name replace=\"Demo:Presentation;Screen:Page;Widget:Module\"]! // \"Presentation\" or \"Page\" or \"Module\"\n\nOr we use Regex for total freedom:\n* Let us emphasize the product is [value:family replace=\"s/Digital/**digital**/\"]. // \"**Digital**\"\n\n// -------------------------------------------------\n### Formatting strings\n// -------------------------------------------------\n\n_Also, we will make sure the presentation is well formatted._\n\nWe might need to trim whitespace:\n* Leading:     [value:family replace=\"Digital:    digital\" trim=true] // \"digital\"\n* Trailing:    [value:family replace=\"Digital:digital    \" trim=true] // \"digital\"\n* Surrounding: [value:family replace=\"Digital:  digital  \" trim=true] // \"digital\"\n* None:        [value:family replace=\"Digital:digital\"     trim=true] // \"digital\"\n\nWe might want to adjust the casing:\n* Title case: [value:family replace=\"Digital:DiGiTaL\" title=true] // \"Digital\"\n* Upper case: [value:family replace=\"Digital:DiGiTaL\" upper=true] // \"DIGITAL\"\n* Lower case: [value:family replace=\"Digital:DiGiTaL\" lower=true] // \"digital\"\n* Lower camel case: [value:family replace=\"Digital:DiGiTaL product\" lowerCamel=true] // \"digitalProduct\"\n* Upper camel case: [value:family replace=\"Digital:DiGiTaL product\" upperCamel=true] // \"DigitalProduct\"\n* Lower Snake case: [value:family replace=\"Digital:Digital product\" lowerSnake=true] // \"digital_product\"\n* Upper Snake case: [value:family replace=\"Digital:Digital product\" upperSnake=true] // \"DIGITAL_PRODUCT\"\n\nWe can truncate long texts:\n* [value:family replace=\"Digital:Lorem ipsum dolor sit amet, consectetur adipiscing elit.\" truncate=11] dolor sit amet. // \"Lorem ipsum\"\n\nWe can truncate with an ellipsis too:\n* [value:family replace=\"Digital:Lorem ipsum dolor sit amet, consectetur adipiscing elit.\" truncate=11 suffix=...] // \"Lorem ipsum...\"\n\nBut we cannot truncate numbers:\n* [value:products[name=Screen].price truncate=1 suffix=\"?\"] // \"30\"\n\n// -------------------------------------------------\n### Formatting date and time\n// -------------------------------------------------\n\n_Temporal values can be formatted explicitly and consistently._\n\nAbsolute dates require the \"date\" option:\n* Release date (UTC): [value:release.launch.dateUtc date=\"%d.%m.%Y\"] // \"06.02.2026\"\n* Campaign start (Europe/Berlin): [value:release.launch.announceLocal date=\"%d.%m.%Y %H:%M Uhr\"] // \"01.02.2026 09:00 Uhr\"\n* Launch event (epoch seconds): [value:release.events.launchEpoch date=\"%d. %B %Y, %H:%M Uhr\"] // \"06. Februar 2026, 10:00 Uhr\"\n\nRelative durations require the \"time\" option:\n* Campaign duration: [value:release.campaign.durationMs time=\"%d %H %M\"] // \"7 Tage\"\n* Press conference (unit=s): [value:release.events.pressConferenceSec time=\"%H %M\" unit=s] // \"1 Stunde 30 Minuten\"\n\nInvalid inputs remain explicit:\n* [value:family date=\"%Y-%m-%d\"] // \"[invalid date]\"\n* [value:family time=\"%H %M\"] // \"[invalid time]\"\n* [value:release.campaign.durationMs date=\"%Y\" time=\"%H\"] // \"[invalid time]\"\n* [value:release.launch.dateUtc format=\"%Y\"] // \"[invalid time]\"\n\n// -------------------------------------------------\n### Formatting data\n// -------------------------------------------------\n\n_JSON and Markdown are snowflakes and need careful handling._\n\nMarkdown is our default, but we can escape it:\n* We will [value:release.campaign.noteMd]! // \"Launch **Today**\"\n* But we will [value:release.campaign.noteMd escapeMarkdown=true] in a safe way. // \"Launch \\*\\*Today\\*\\*\"\n\nWhen needed, values can be rendered as stringified JSON:\n* [value:family stringify=true] // \"Digital\"\n* [value:products[name=Screen].price stringify=true] // \"30\"\n* [value:products[0] stringify=true] // Stringified object\n* [value:products[name=Demo].locations stringify=true] // Stringified array\n\n// =================================================\n## Directive: Conditional\n// =================================================\n\n_Conditions allow the briefing to adapt to the data._\n\n// -------------------------------------------------\n### Choosing a branch\n// -------------------------------------------------\n\n_Select a statement depending on the facts._\n\nPrice assessment for {Product}:\n\n[if:products[name={Product}].price>20]\n- The {Product} is positioned as a premium product.\n[if-elif:products[name={Product}].price>10]\n- The {Product} sits comfortably in the mid-range.\n[if-elif:products[name={Product}].price>0]\n- The {Product} remains accessible in pricing.\n[if-elif:products[name={Product}].price=0]\n- The {Product} is offered free of charge.\n[if-else]\n- The price of {Product} is currently undefined.\n[if-end]\n\n// -------------------------------------------------\n### Inline decisions\n// -------------------------------------------------\n\n_Conditions can control individual words inside a sentence._\n\nWe can use the comparisons as in the value directive:\n* The pricing review [if:products[name=Screen].price=30]confirms[if-else]does not confirm[if-end] that Screen costs exactly 30€. // \"confirms\"\n\nAlso, we can use the global variables for that:\n* Including {Product} in the campaign [if:products[name={Product}].price>0]makes sense[if-else]requires reconsideration[if-end]. // \"makes sense\"\n\n// -------------------------------------------------\n### Checking existence\n// -------------------------------------------------\n\n_When no operator is given, existence is evaluated._\n\nIf a condition is met, the if branch is printed:\n* The fallback product [if:release.hero.fallback]is available[if-else]is not available[if-end]. // \"is available\"\n\nIf a condition is not met, the else branch is printed:\n* The missing product [if:missing.key]is available[if-else]is not available[if-end]. // \"is not available\"\n\nConditional branches can be stacked with if-elif:\n* But a product from the same family [if:missing.key]is available[if-elif:family]may be available[if-else]is not available[if-end]. // \"may be available\"\n\n// -------------------------------------------------\n### Comparing numbers\n// -------------------------------------------------\n\n_Numeric comparisons integrate directly into language._\n\nLet us check whether the price equals a specific value:\n* The {Product} [if:products[name={Product}].price=30]costs exactly[if-else]does not cost[if-end] 30€. // \"costs exactly\"\n\nLet us check whether a price is higher:\n* The pricing of {Product} does [if:products[name={Product}].price>20]support[if-else]contradict[if-end] a premium strategy. // \"support\"\n\nLet us check whether a price is lower:\n* A discount scenario [if:products[name={Product}].price<20]applies[if-else]does not apply[if-end] to {Product}. // \"does not apply\"\n\nValues that look numeric are compared numerically:\n* The stored price \"30\" [if:products[name={Product}].price=\"30\"]matches[if-else]differs from[if-end] the numeric value 30. // \"matches\"\n\n// -------------------------------------------------\n### Comparing text\n// -------------------------------------------------\n\n_Text comparisons shape positioning._\n\nWe will compare whether the product name matches in various ways:\n* Our product line [if:family=\"Digital\"]belongs[if-else]does not belong[if-end] to the Digital family. // \"belongs\"\n* The category name [if:family^=\"Dig\"]starts[if-else]does not start[if-end] with “Dig”. // \"starts\"\n* The family description [if:family*=\"git\"]contains[if-else]does not contain[if-end] the fragment “git”. // \"contains\"\n* Case-insensitive comparison [if:family=\"digital\" ci=true]recognizes[if-else]ignores[if-end] lowercase input. // \"recognizes\"\n\n// -------------------------------------------------\n### Nesting conditions\n// -------------------------------------------------\n\n_Conditions can refine each other._\n\n[if:products[name={Product}].name=release.hero.fallback]\n- {Product} matches the configured fallback product.\n[if-else]\n- {Product} differs from the fallback.\n  [if:products[name={Product}].price>0]\n- Nevertheless, it remains commercially available.\n  [if-end]\n[if-end]\n\n// -------------------------------------------------\n### Handling whitespace\n// -------------------------------------------------\n\n_When no branch produces output, spacing adjusts automatically._\n\nThis list remains clean:\n- First item.\n[if:missing.key]\n- Hidden item.\n[if-end]\n- Second item.\n\n// =================================================\n## Directive: Loop\n// =================================================\n\n_When multiple entries exist, repetition is handled declaratively._\n\n// -------------------------------------------------\n### Listing items\n// -------------------------------------------------\n\n_Generate structured content from collections._\n\nThe launch briefing includes:\n[loop:products as=product empty=\"No products available.\"]\n- The product [value:product.name], offered for [value:product.price]€.\n[loop-end]\n\nA compact overview:\n* The portfolio consists of [loop:products as=product join=\", \"][value:product.name][loop-end]. // \"Demo, Screen, Widget\"\n\n// -------------------------------------------------\n### Filtering lists\n// -------------------------------------------------\n\n_Conditions narrow the selection before repetition._\n\nThe paid products are:\n[loop:products[price>0] as=product empty=\"No paid products.\"]\n- [value:product.name] contributes to revenue.\n[loop-end]\n\nA compact overview:\n* The portfolio consists of [loop:products[price>0] as=product join=\", \"][value:product.name][loop-end]. // \"Screen, Widget\"\n\n// -------------------------------------------------\n### Nested lists\n// -------------------------------------------------\n\n_Structure can mirror data depth._\n\nEach product is available in:\n[loop:products as=product empty=\"No products available.\"]\n- [value:product.name]\n  [loop:product.locations as=location empty=\"No locations.\"]\n  - Market: [value:location]\n  [loop-end]\n[loop-end]\n\n// -------------------------------------------------\n### Using the index\n// -------------------------------------------------\n\n_An index reflects position automatically._\n\nOrdered overview:\n[loop:products as=product]\n- Position [loop-index]: [value:product.name]\n[loop-end]\n\n// =================================================\n## Directive: Get/Set\n// =================================================\n\n_Variables allow structured decisions within the template._\n\n// -------------------------------------------------\n### Defining variables\n// -------------------------------------------------\n\n_Variables are constant unless declared otherwise._\n\nWe compute and set a local variable: [set:headline=\"{Product} Launch\"]\n* The campaign headline currently reads [get:headline]. // \"Screen Launch\"\n\nWe try to overwrite the local variable: [set:headline=\"Revised Launch\"]\n* The headline still reads [get:headline]. // \"Screen Launch\"\n\n// -------------------------------------------------\n### Variable lists\n// -------------------------------------------------\n\n_Variables can store collections._\n\nWe define a local variable with a list: [set:channels=[\"Web\",\"Email\"]]\n* The campaign runs across [loop:channels as=channel join=\" and \"][value:channel][loop-end]. // \"Web and Email\"\n\n// -------------------------------------------------\n### Formatting variables\n// -------------------------------------------------\n\n_Formatting applies at retrieval time._\n\nWe define a malformed label: [set:label=\"  digital  \"]\n* The label however is formated as [get:label trim=true title=true]. // \"Digital\"\n\n// -------------------------------------------------\n### Humble variables\n// -------------------------------------------------\n\n_A humble variable defers to existing data._\n\nVariables can be configured to be writable: [set:family=\"Analog\" const=false]\n* The temporary family setting shows as [value:family]. // \"Analog\"\n\nBut only if configured as non-humble: [set:family=\"Digital\" humble=false]\n* The updated family setting shows as [value:family]. // \"Digital\"\n\n// -------------------------------------------------\n### Scoped variables\n// -------------------------------------------------\n\n_A scoped variable exists only within its block._\n\nHere are scoped variables in a loop:\n[loop:products as=p]\n  [set:temp=[value:p.name] scope=true]\n- Reviewing [value:temp] in detail.\n[loop-end]\n\nOutside the loop, the scoped variable [get:temp failure=\"is no longer available\"]. // \"is no longer available\"\n\n// -------------------------------------------------\n### Variables in conditions\n// -------------------------------------------------\n\n_Variables can guide conditional output._\n\nWe can compare variable values as if they were paths:\n[if:headline=\"{Product} Launch\"]\n- The headline aligns with the globally selected product.\n[if-else]\n- The headline deviates from the globally selected product.\n[if-end]\n\n// -------------------------------------------------\n### Edge behavior\n// -------------------------------------------------\n\n_Subtle precedence rules remain explicit._\n\nWe set a variable twice, but make it non-constant: [set:feature=alpha][set:feature=beta const=false]\n- The active feature is [get:feature]. // \"beta\"\n\nNon-constant variables can be nullified: [set:feature=null]\n- The feature is [get:feature failure=\"gone\"] now. // \"gone\"\n\n\n// =================================================\n## Miscellaneous\n// =================================================\n\n_Smaller features refine presentation and boundaries._\n\n// -------------------------------------------------\n### Condensing text\n// -------------------------------------------------\n\n_Condense tightens whitespace and punctuation._\n\nThis is the final headline:\n[condense]\n- Launch ,  ready !\n[condense-end]\n\n// -------------------------------------------------\n### Performance limits\n// -------------------------------------------------\n\n_Expansion limits ensure predictable rendering._\n\nHere is a naive test for the limits set in configuration:\n* The family name repeated five times becomes [value:family] [value:family] [value:family] [value:family] [value:family]. // \"Digital Digital Digital Digital Digital\"\n\n_To keep this demo concise, we do not repeat 50 times..._\n\n// -------------------------------------------------\n### Comments\n// -------------------------------------------------\n\n_Comments are ignored outside code blocks._\n\nTo remind ourselves of information, we can comment inline\n* Text // This remark is removed\n\nWhich does not interfere with URLs or other expressions containing double slashes:\n* http://example.com//path // \"http://example.com//path\"\n* a//b // \"a//b\"\n\n// We can even comment out whole lines\nEnd of the demo!",
      "data": {
        "family": "Digital",
        "recommendation": "Widget",
        "products": [
          {
            "name": "Demo",
            "price": 0,
            "locations": [
              "Hamburg",
              "München"
            ]
          },
          {
            "name": "Widget",
            "price": 10,
            "locations": [
              "Berlin",
              "München"
            ]
          },
          {
            "name": "Screen",
            "price": 30,
            "locations": [
              "Berlin",
              "Hamburg"
            ]
          }
        ],
        "locations": [
          {
            "name": "Berlin",
            "products": [
              "Screen",
              "Widget"
            ]
          },
          {
            "name": "Hamburg",
            "products": [
              "Demo",
              "Screen"
            ]
          },
          {
            "name": "München",
            "products": [
              "Demo",
              "Widget"
            ]
          }
        ],
        "release": {
          "launch": {
            "dateUtc": "2026-02-06T10:00:00Z",
            "announceLocal": "2026-02-01 09:00"
          },
          "events": {
            "launchEpoch": 1770372000,
            "pressConferenceSec": 5400
          },
          "campaign": {
            "durationMs": 604800000,
            "metrics": {
              "Ad Spend €": 120000,
              "Landing Pages": 3
            },
            "taglineWrap": [
              {
                "tagline": "Future-ready"
              }
            ],
            "noteMd": "Launch **Today**"
          },
          "hero": {
            "product": null,
            "fallback": "Widget"
          }
        }
      },
      "variables": {
        "Product": "Screen"
      },
      "expected": "# PDL: Tutorial\n\n_Prompt Data Language fuses a template with data to produce natural language._\n\nIn this template, we will prepare a small product launch briefing together using structured data.\nThe JSON data provided contains all products, locations, and release information.\nIt is structured with named fields, nested objects, and lists.\n\nThe sections below are grouped by capability.\nLines that contain PDL (like `[directive:...]`) end with `// \"expected output\"` so you can verify the result as you read.\n\n## Global Variables\n\n_Before we dive in, let's understand how dynamic PDL is._\n\nAny automation can inject global variables:\n* The product chosen for the launch (in `.variable.json`) is Screen.\n\nAny word in curly braces is a candidate for a global variable. \nIf it exists in `.variable.json`, it will be replaced before PDL is processed.\n\n_This template will make extensive use of this, so watch out for the curly braces!_\n\n## Directive: Value\n\n_We begin by retrieving the facts needed for the briefing._\n\n### Value retrieval\n\n_Read a field directly from the data._\n\nLet's get a value from the data by providing its key:\n* The product belongs to the Digital family.\n\nWe can also provide a path:\n* If Screen doesn't work, we will advertise the Widget.\n\n### Filtering values\n\n_Select the first item that matches a condition._\n\nFiltered by number:\n* The first paid product is Widget.\n* The product that costs 30€ is Screen.\n\nFiltered by name:\n* The Screen costs 30€.\n* Customers like the Widget for 10€.\n\nCombine conditions:\n* AND: Widget (name=Widget&price=10)\n* OR:  Demo (name=Missing|name=Demo)\n\nCase-insensitive matching:\n* A WiDgEt is a Widget, period.\n* And a Widget stays a Widget.\n* And so does wIdGeT: Widget.\n\n### Nested values\n\n_Resolve one value inside another when data depends on data._\n\nGlobal variables can live inside directives:\n* We recommend the Screen for the price of 30€.\n\nAnd so can PDL values:\n* But if Screen is broken, we recommend the Widget for 10€.\n\n### Unresolved values\n\n_When a path cannot be resolved, behavior is explicit._\n\nMissing data keeps the directive visible (so it’s easy to spot):\n* The missing value is [value:missing.key].\n\nWe can provide an alternative path:\n* The fallback family is Digital.\n\nThe fallback can be a nested path:\n* The fallback product is Screen.\n\nIf nothing resolves, we will use a failure value:\n* We are missing data here.\n\n### Existence checks\n\n_Sometimes we only need to know whether the original path resolves._\n\nExisting keys will succeed:\n* The family exists.\n\nBut missing keys will fail:\n* This key is missing.\n\nThe fallback path might help:\n* The fallback exists.\n\n### Selector variants\n\n_Selectors support different comparisons and matching styles._\n\nPDL supports most common operators:\n* The first paid product is Widget.\n* The discount product is Widget.\n* The product starting with \"Wid\" is Widget.\n* The product ending with \"get\" is Widget.\n\nSometimes the path becomes more complex:\n* We will spend 120000€ on ads...\n* ...because the product is Future-ready.\n\n### Replacing values\n\n_Before publishing, we might want to adjust the wording._\n\nWe can replace certain values:\n* We will replace \"Demo\" with Presentation.\n\nOr just parts of them:\n* For the younger audience, we will call it Dee.\n\nWe can keep this flexible too:\n* You will like our Page!\n\nOr we use Regex for total freedom:\n* Let us emphasize the product is **digital**.\n\n### Formatting strings\n\n_Also, we will make sure the presentation is well formatted._\n\nWe might need to trim whitespace:\n* Leading:     digital\n* Trailing:    digital\n* Surrounding: digital\n* None:        digital\n\nWe might want to adjust the casing:\n* Title case: Digital\n* Upper case: DIGITAL\n* Lower case: digital\n* Lower camel case: diGiTaLProduct\n* Upper camel case: DiGiTaLProduct\n* Lower Snake case: di_gi_ta_l_product\n* Upper Snake case: DI_GI_TA_L_PRODUCT\n\nWe can truncate long texts:\n* Lorem ipsum dolor sit amet.\n\nWe can truncate with an ellipsis too:\n* Lorem ipsum...\n\nBut we cannot truncate numbers:\n* 30\n\n### Formatting date and time\n\n_Temporal values can be formatted explicitly and consistently._\n\nAbsolute dates require the \"date\" option:\n* Release date (UTC): 06.02.2026\n* Campaign start (Europe/Berlin): 01.02.2026 09:00 Uhr\n* Launch event (epoch seconds): 06. %B 2026, 11:00 Uhr\n\nRelative durations require the \"time\" option:\n* Campaign duration: 7 days\n* Press conference (unit=s): 1 hour 30 minutes\n\nInvalid inputs remain explicit:\n* [invalid date]\n* [invalid time]\n* [invalid time]\n* 2026-02-06T10:00:00Z\n\n### Formatting data\n\n_JSON and Markdown are snowflakes and need careful handling._\n\nMarkdown is our default, but we can escape it:\n* We will Launch **Today**!\n* But we will Launch \\*\\*Today\\*\\* in a safe way.\n\nWhen needed, values can be rendered as stringified JSON:\n* \"Digital\"\n* 30\n* {\"name\":\"Demo\",\"price\":0,\"locations\":[\"Hamburg\",\"München\"]}\n* [\"Hamburg\",\"München\"]\n\n## Directive: Conditional\n\n_Conditions allow the briefing to adapt to the data._\n\n### Choosing a branch\n\n_Select a statement depending on the facts._\n\nPrice assessment for Screen:\n\n- The Screen is positioned as a premium product.\n\n### Inline decisions\n\n_Conditions can control individual words inside a sentence._\n\nWe can use the comparisons as in the value directive:\n* The pricing review confirms that Screen costs exactly 30€.\n\nAlso, we can use the global variables for that:\n* Including Screen in the campaign makes sense.\n\n### Checking existence\n\n_When no operator is given, existence is evaluated._\n\nIf a condition is met, the if branch is printed:\n* The fallback product is available.\n\nIf a condition is not met, the else branch is printed:\n* The missing product is not available.\n\nConditional branches can be stacked with if-elif:\n* But a product from the same family may be available.\n\n### Comparing numbers\n\n_Numeric comparisons integrate directly into language._\n\nLet us check whether the price equals a specific value:\n* The Screen costs exactly 30€.\n\nLet us check whether a price is higher:\n* The pricing of Screen does support a premium strategy.\n\nLet us check whether a price is lower:\n* A discount scenario does not apply to Screen.\n\nValues that look numeric are compared numerically:\n* The stored price \"30\" matches the numeric value 30.\n\n### Comparing text\n\n_Text comparisons shape positioning._\n\nWe will compare whether the product name matches in various ways:\n* Our product line belongs to the Digital family.\n* The category name starts with “Dig”.\n* The family description contains the fragment “git”.\n* Case-insensitive comparison recognizes lowercase input.\n\n### Nesting conditions\n\n_Conditions can refine each other._\n\n- Screen differs from the fallback.\n- Nevertheless, it remains commercially available.\n\n### Handling whitespace\n\n_When no branch produces output, spacing adjusts automatically._\n\nThis list remains clean:\n- First item.\n- Second item.\n\n## Directive: Loop\n\n_When multiple entries exist, repetition is handled declaratively._\n\n### Listing items\n\n_Generate structured content from collections._\n\nThe launch briefing includes:\n- The product Demo, offered for 0€.\n- The product Widget, offered for 10€.\n- The product Screen, offered for 30€.\n\nA compact overview:\n* The portfolio consists of Demo, Widget, Screen.\n\n### Filtering lists\n\n_Conditions narrow the selection before repetition._\n\nThe paid products are:\n- Widget contributes to revenue.\n- Screen contributes to revenue.\n\nA compact overview:\n* The portfolio consists of Widget, Screen.\n\n### Nested lists\n\n_Structure can mirror data depth._\n\nEach product is available in:\n- Demo\n  - Market: Hamburg\n  - Market: München\n- Widget\n  - Market: Berlin\n  - Market: München\n- Screen\n  - Market: Berlin\n  - Market: Hamburg\n\n### Using the index\n\n_An index reflects position automatically._\n\nOrdered overview:\n- Position 1: Demo\n- Position 2: Widget\n- Position 3: Screen\n\n## Directive: Get/Set\n\n_Variables allow structured decisions within the template._\n\n### Defining variables\n\n_Variables are constant unless declared otherwise._\n\nWe compute and set a local variable: \n* The campaign headline currently reads Screen Launch.\n\nWe try to overwrite the local variable: \n* The headline still reads Screen Launch.\n\n### Variable lists\n\n_Variables can store collections._\n\nWe define a local variable with a list: \n* The campaign runs across Web and Email.\n\n### Formatting variables\n\n_Formatting applies at retrieval time._\n\nWe define a malformed label: \n* The label however is formated as Digital.\n\n### Humble variables\n\n_A humble variable defers to existing data._\n\nVariables can be configured to be writable: \n* The temporary family setting shows as Analog.\n\nBut only if configured as non-humble: \n* The updated family setting shows as Digital.\n\n### Scoped variables\n\n_A scoped variable exists only within its block._\n\nHere are scoped variables in a loop:\n\n- Reviewing Demo in detail.\n\n- Reviewing Widget in detail.\n\n- Reviewing Screen in detail.\n\nOutside the loop, the scoped variable is no longer available.\n\n### Variables in conditions\n\n_Variables can guide conditional output._\n\nWe can compare variable values as if they were paths:\n- The headline aligns with the globally selected product.\n\n### Edge behavior\n\n_Subtle precedence rules remain explicit._\n\nWe set a variable twice, but make it non-constant: \n- The active feature is beta.\n\nNon-constant variables can be nullified: \n- The feature is gone now.\n\n## Miscellaneous\n\n_Smaller features refine presentation and boundaries._\n\n### Condensing text\n\n_Condense tightens whitespace and punctuation._\n\nThis is the final headline:\n- Launch, ready!\n\n### Performance limits\n\n_Expansion limits ensure predictable rendering._\n\nHere is a naive test for the limits set in configuration:\n* The family name repeated five times becomes Digital Digital Digital Digital Digital.\n\n_To keep this demo concise, we do not repeat 50 times..._\n\n### Comments\n\n_Comments are ignored outside code blocks._\n\nTo remind ourselves of information, we can comment inline\n* Text\n\nWhich does not interfere with URLs or other expressions containing double slashes:\n* http://example.com//path\n* a//b\n\nEnd of the demo!\n"
    },
    {
      "name": "02_cheatsheet",
      "template": "# PDL Cheatsheet\n\n// =================================================\n## Global Variables\n// =================================================\n\n* {Product} // \"Screen\"\n\n\n// =================================================\n## Directive: Value\n// =================================================\n\nSimple paths\n* [value:family] // \"Digital\"\n* [value:release.hero.fallback] // \"Widget\"\n\nFiltered paths (number)\n* [value:products[price=30].name] // \"Screen\"\n* [value:products[price>0].name] // \"Widget\"\n* [value:products[price<=10].name] // \"Widget\"\n* [value:products[price>=10].name] // \"Widget\"\n* [value:products[price!=0].name] // \"Widget\"\n\nFiltered paths (combine)\n* [value:products[name=Widget&price=10].name] // \"Widget\"\n* [value:products[name=Missing|name=Demo].name] // \"Demo\"\n\nFiltered paths (string)\n* [value:products[name={Product}].price] // \"30\"\n* [value:products[name=\"WiDgEt\"].name ci=true] // \"Widget\"\n* [value:products[name^=\"Wid\"].name] // \"Widget\"\n* [value:products[name$=\"get\"].name] // \"Widget\"\n* [value:products[name*=\"idg\"].name] // \"Widget\"\n\nFallback paths\n* [value:missing.key fallback=family] // \"Digital\"\n* [value:missing.key fallback=\"products[name={Product}].name\"] // \"Screen\"\n* [value:missing.key fallback=another.missing.key failure=\"missing\"] // \"missing\"\n\nNested values\n* [value:products[name=[value:release.hero.fallback]].price] // \"10\"\n\nExistence option\n* [value:family success=\"yes\" failure=\"no\"] // \"yes\"\n* [value:missing.key success=\"yes\" failure=\"no\"] // \"no\"\n\nReplace values\n* [value:products[name=Demo].name replace=\"Demo:Presentation\"] // \"Presentation\"\n* [value:products[name=Demo].name replace=\"emo:ee\"] // \"Dee\"\n* [value:family replace=\"s/Digital/**digital**/\"] // \"**Digital**\"\n\nTrim values\n* [value:family replace=\"Digital:  digital  \" trim=true] // \"digital\"\n* [value:family replace=\"Digital:DiGiTaL\" title=true] // \"Digital\"\n* [value:family replace=\"Digital:DiGiTaL\" upper=true] // \"DIGITAL\"\n* [value:family replace=\"Digital:DiGiTaL\" lower=true] // \"digital\"\n\nTuncate values\n* [value:family replace=\"Digital:Lorem ipsum dolor sit amet\" truncate=11] // \"Lorem ipsum\"\n* [value:family replace=\"Digital:Lorem ipsum dolor sit amet\" truncate=11 suffix=\"...\"] // \"Lorem ipsum...\"\n* [value:products[name=Screen].price truncate=1 suffix=\"?\"] // \"30\"\n\nFormat casing\n* [value:family replace=\"Digital:DiGiTaL product\" lowerCamel=true] // \"digitalProduct\"\n* [value:family replace=\"Digital:DiGiTaL product\" upperCamel=true] // \"DigitalProduct\"\n* [value:family replace=\"Digital:DiGiTaL product\" lowerSnake=true] // \"digital_product\"\n* [value:family replace=\"Digital:DiGiTaL product\" upperSnake=true] // \"DIGITAL_PRODUCT\"\n\nFormat dates\n* [value:release.launch.dateUtc date=\"%d.%m.%Y\"] // \"06.02.2026\"\n* [value:release.launch.announceLocal date=\"%d.%m.%Y %H:%M Uhr\"] // \"01.02.2026 09:00 Uhr\"\n* [value:release.events.launchEpoch date=\"%d. %B %Y, %H:%M Uhr\"] // \"06. Februar 2026, 10:00 Uhr\"\n\nFormat time\n* [value:release.campaign.durationMs time=\"%d %H %M\"] // \"7 Tage\"\n* [value:release.events.pressConferenceSec time=\"%H %M\" unit=s] // \"1 Stunde 30 Minuten\"\n\nEscape Markdown\n* [value:release.campaign.noteMd] // \"Launch **Today**\"\n* [value:release.campaign.noteMd escapeMarkdown=true] // \"Launch \\*\\*Today\\*\\*\"\n\nStringify data\n* [value:family stringify=true] // \"\\\"Digital\\\"\"\n* [value:products[name=Screen].price stringify=true] // \"30\"\n* [value:products[0] stringify=true] // {\"name\":\"Demo\",\"price\":0,\"locations\":[\"Hamburg\",\"München\"]}\n* [value:products[name=Demo].locations stringify=true] // [\"Hamburg\",\"München\"]\n\n\n// =================================================\n## Directive: Conditional\n// =================================================\n\nBlock conditional:\n[if:products[name={Product}].price>20]\n- Premium\n[if-elif:products[name={Product}].price>10]\n- Mid\n[if-elif:products[name={Product}].price>0]\n- Affordable\n[if-else]\n- Undefined\n[if-end]\n\nInline conditionals\n* [if:products[name=Screen].price=30]confirms[if-else]denies[if-end] // \"confirms\"\n* [if:products[name={Product}].price>0]available[if-else]unavailable[if-end] // \"available\"\n* [if:release.hero.fallback]exists[if-else]missing[if-end] // \"exists\"\n* [if:family=\"Digital\"]match[if-else]no-match[if-end] // \"match\"\n* [if:family^=\"Dig\"]prefix[if-else]no-prefix[if-end] // \"prefix\"\n* [if:family*=\"git\"]contains[if-else]no-contains[if-end] // \"contains\"\n* [if:family$=\"tal\"]suffix[if-else]no-suffix[if-end] // \"suffix\"\n* [if:family=\"digital\" ci=true]ci-match[if-else]no[if-end] // \"ci-match\"\n\n\n// =================================================\n## Directive: Loop\n// =================================================\n\nSimple loop\n[loop:products as=product]\n- [value:product.name]\n[loop-end]\n\nFiltered loop\n[loop:products[price>0] as=product]\n- [value:product.name]\n[loop-end]\n\nInline loop\n* [loop:products as=product join=\", \"][value:product.name][loop-end] // \"Demo, Screen, Widget\"\n\nIndexed loop\n[loop:products as=product]\n- [loop-index]: [value:product.name]\n[loop-end]\n\nNested loop\n[loop:products as=product]\n- [value:product.name]\n  [loop:product.locations as=location]\n  - [loop-index]: [value:location]\n  [loop-end]\n[loop-end]\n\n\n// =================================================\n## Directive: Get / Set\n// =================================================\n\nRegular set [set:headline=\"{Product} Launch\"]\n* [get:headline] // \"Screen Launch\"\n\nMutable set [set:headline=\"Revised\" const=false]\n* [get:headline] // \"Revised\"\n\nSet array [set:channels=[\"Web\",\"Email\"]]\n* [loop:channels as=channel join=\" and \"][value:channel][loop-end] // \"Web and Email\"\n\nGet trimmed [set:label=\"  digital  \"]\n* [get:label trim=true title=true] // \"Digital\"\n\nSet humble [set:family=\"Analog\" const=false][set:family=\"Digital\" humble=false]\n* [value:family] // \"Analog\"\n\nSet in scope\n[loop:products as=p]\n[set:temp=[value:p.name] scope=true]- [value:temp] // Fix in library: Set uses a line\n[loop-end]\n* [get:temp failure=\"missing\"] // \"missing\"\n\nUnset [set:feature=null]\n* [get:feature] // the directive\n\n\n// =================================================\n## Directive: Condense\n// =================================================\n\n- [condense]\nLaunch ,  ready !\n[condense-end]\n\n\n// =================================================\n## Comments\n// =================================================\n\n* No comment. // This comment is removed\n* http://example.com//path // \"http://example.com//path\"\n* a//b // \"a//b\"\n",
      "data": {
        "family": "Digital",
        "recommendation": "Widget",
        "products": [
          {
            "name": "Demo",
            "price": 0,
            "locations": [
              "Hamburg",
              "München"
            ]
          },
          {
            "name": "Widget",
            "price": 10,
            "locations": [
              "Berlin",
              "München"
            ]
          },
          {
            "name": "Screen",
            "price": 30,
            "locations": [
              "Berlin",
              "Hamburg"
            ]
          }
        ],
        "locations": [
          {
            "name": "Berlin",
            "products": [
              "Screen",
              "Widget"
            ]
          },
          {
            "name": "Hamburg",
            "products": [
              "Demo",
              "Screen"
            ]
          },
          {
            "name": "München",
            "products": [
              "Demo",
              "Widget"
            ]
          }
        ],
        "release": {
          "launch": {
            "dateUtc": "2026-02-06T10:00:00Z",
            "announceLocal": "2026-02-01 09:00"
          },
          "events": {
            "launchEpoch": 1770372000,
            "pressConferenceSec": 5400
          },
          "campaign": {
            "durationMs": 604800000,
            "metrics": {
              "Ad Spend €": 120000,
              "Landing Pages": 3
            },
            "taglineWrap": [
              {
                "tagline": "Future-ready"
              }
            ],
            "noteMd": "Launch **Today**"
          },
          "hero": {
            "product": null,
            "fallback": "Widget"
          }
        }
      },
      "variables": {
        "Product": "Screen"
      },
      "expected": "# PDL Cheatsheet\n\n## Global Variables\n\n* Screen\n\n## Directive: Value\n\nSimple paths\n* Digital\n* Widget\n\nFiltered paths (number)\n* Screen\n* Widget\n* Demo\n* Widget\n* Widget\n\nFiltered paths (combine)\n* Widget\n* Demo\n\nFiltered paths (string)\n* 30\n* Widget\n* Widget\n* Widget\n* Widget\n\nFallback paths\n* Digital\n* Screen\n* missing\n\nNested values\n* 10\n\nExistence option\n* yes\n* no\n\nReplace values\n* Presentation\n* Dee\n* **digital**\n\nTrim values\n* digital\n* Digital\n* DIGITAL\n* digital\n\nTuncate values\n* Lorem ipsum\n* Lorem ipsum\"...\"\n* 30\n\nFormat casing\n* diGiTaLProduct\n* DiGiTaLProduct\n* di_gi_ta_l_product\n* DI_GI_TA_L_PRODUCT\n\nFormat dates\n* 06.02.2026\n* 01.02.2026 09:00 Uhr\n* 06. %B 2026, 11:00 Uhr\n\nFormat time\n* 7 days\n* 1 hour 30 minutes\n\nEscape Markdown\n* Launch **Today**\n* Launch \\*\\*Today\\*\\*\n\nStringify data\n* \"Digital\"\n* 30\n* {\"name\":\"Demo\",\"price\":0,\"locations\":[\"Hamburg\",\"München\"]}\n* [\"Hamburg\",\"München\"]\n\n## Directive: Conditional\n\nBlock conditional:\n- Premium\n\nInline conditionals\n* confirms\n* available\n* exists\n* match\n* prefix\n* contains\n* suffix\n* ci-match\n\n## Directive: Loop\n\nSimple loop\n- Demo\n- Widget\n- Screen\n\nFiltered loop\n- Widget\n- Screen\n\nInline loop\n* Demo, Widget, Screen\n\nIndexed loop\n- 1: Demo\n- 2: Widget\n- 3: Screen\n\nNested loop\n- Demo\n  - 1.1: Hamburg\n  - 1.2: München\n- Widget\n  - 2.1: Berlin\n  - 2.2: München\n- Screen\n  - 3.1: Berlin\n  - 3.2: Hamburg\n\n## Directive: Get / Set\n\nRegular set \n* Screen Launch\n\nMutable set \n* Revised\n\nSet array \n* Web and Email\n\nGet trimmed \n* Digital\n\nSet humble \n* Digital\n\nSet in scope\n- Demo\n- Widget\n- Screen\n* missing\n\nUnset \n* [get:feature]\n\n## Directive: Condense\n\n- Launch, ready!\n\n## Comments\n\n* No comment.\n* http://example.com//path\n* a//b\n"
    }
  ]
}